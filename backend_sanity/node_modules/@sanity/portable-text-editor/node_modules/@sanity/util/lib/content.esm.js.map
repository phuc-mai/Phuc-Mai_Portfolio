{"version":3,"file":"content.esm.js","sources":["../src/content/hasOwn.ts","../src/content/isEmpty.ts","../src/content/randomKey.ts","../src/content/resolveJSType.ts","../src/content/resolveTypeName.ts"],"sourcesContent":["export default Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty)\n","import hasOwn from './hasOwn'\n\nexport function isEmptyObject(value: {[key: string]: any}): boolean {\n  for (const key in value) {\n    if (key === '_type' || key === '_key') {\n      continue\n    }\n    if (hasOwn(value, key) && !isEmpty(value[key])) {\n      return false\n    }\n  }\n  return true\n}\n\nexport function isEmptyArray(value: unknown[]): boolean {\n  for (let i = 0; i < value.length; i++) {\n    if (isEmpty(value[i])) {\n      return true\n    }\n  }\n  return false\n}\n\nexport function isEmpty(value: any): boolean {\n  if (value === undefined || value === null) {\n    return true\n  }\n  const type = typeof value\n  if (type === 'object') {\n    return isEmptyObject(value)\n  }\n  if (Array.isArray(value)) {\n    return isEmptyArray(value)\n  }\n  return false\n}\n","import getRandomValues from 'get-random-values-esm'\n\nconst getByteHexTable = (() => {\n  let table: any[]\n  return () => {\n    if (table) {\n      return table\n    }\n\n    table = []\n    for (let i = 0; i < 256; ++i) {\n      table[i] = (i + 0x100).toString(16).substring(1)\n    }\n    return table\n  }\n})()\n\n// WHATWG crypto RNG - https://w3c.github.io/webcrypto/Overview.html\nfunction whatwgRNG(length = 16) {\n  const rnds8 = new Uint8Array(length)\n  getRandomValues(rnds8)\n  return rnds8\n}\n\nexport function randomKey(length?: number): string {\n  const table = getByteHexTable()\n  return whatwgRNG(length)\n    .reduce((str, n) => str + table[n], '')\n    .slice(0, length)\n}\n","const toString = Object.prototype.toString\n// Copied from https://github.com/ForbesLindesay/type-of, but inlined to have fine grained control\n\nexport function resolveJSType(val: unknown) {\n  switch (toString.call(val)) {\n    case '[object Function]':\n      return 'function'\n    case '[object Date]':\n      return 'date'\n    case '[object RegExp]':\n      return 'regexp'\n    case '[object Arguments]':\n      return 'arguments'\n    case '[object Array]':\n      return 'array'\n    case '[object String]':\n      return 'string'\n    default:\n  }\n\n  if (typeof val == 'object' && val && typeof (val as any).length == 'number') {\n    try {\n      if (typeof (val as any).callee == 'function') {\n        // eslint-disable-line max-depth\n        return 'arguments'\n      }\n    } catch (ex) {\n      if (ex instanceof TypeError) {\n        // eslint-disable-line max-depth\n        return 'arguments'\n      }\n    }\n  }\n\n  if (val === null) {\n    return 'null'\n  }\n\n  if (val === undefined) {\n    return 'undefined'\n  }\n\n  if (val && (val as any).nodeType === 1) {\n    return 'element'\n  }\n\n  if (val === Object(val)) {\n    return 'object'\n  }\n\n  return typeof val\n}\n","import {resolveJSType} from './resolveJSType'\n\nexport function resolveTypeName(value: unknown): string {\n  const jsType = resolveJSType(value)\n  if (jsType !== 'object') {\n    return jsType\n  }\n\n  const obj = value as Record<string, unknown> & {_type?: string}\n  return ('_type' in obj && obj._type) || jsType\n}\n"],"names":["hasOwn","Object","prototype","hasOwnProperty","call","bind","isEmptyObject","value","key","isEmpty","isEmptyArray","i","length","type","Array","isArray","getByteHexTable","table","toString","substring","whatwgRNG","rnds8","Uint8Array","getRandomValues","randomKey","reduce","str","n","slice","resolveJSType","val","callee","ex","TypeError","nodeType","resolveTypeName","jsType","obj","_type"],"mappings":"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"}